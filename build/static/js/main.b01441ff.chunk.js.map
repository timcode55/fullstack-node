{"version":3,"sources":["PersonForm.js","Search.js","Persons.js","services/members.js","Notification.js","App.js","index.js"],"names":["PersonForm","newName","newNumber","handleSubmit","handleAddName","handleAddNumber","onSubmit","value","onChange","Search","filterName","handleFilterNames","Persons","persons","handleDeleteRender","namesToShow","filter","item","name","toLowerCase","includes","map","i","className","number","onClick","id","baseUrl","createPerson","newObject","a","axios","post","then","response","data","exported","getAllPersons","get","updatePerson","put","deletePerson","delete","Notification","message","App","useState","setPersons","setNewName","setNewNumber","setFilterName","updateRender","setUpdateRender","errorMessage","setErrorMessage","useEffect","e","target","preventDefault","alert","findId","result","length","setTimeout","memberService","catch","error","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b01441ff.chunk.js","sourcesContent":["import React from 'react';\n\nconst PersonForm = ({ newName, newNumber, handleSubmit, handleAddName, handleAddNumber }) => {\n\treturn (\n\t\t<div>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<div>\n\t\t\t\t\tName: <input value={newName} onChange={handleAddName} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\tNumber: <input value={newNumber} onChange={handleAddNumber} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button>add</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Search = ({ filterName, handleFilterNames }) => {\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\tFilter shown with <input value={filterName} onChange={handleFilterNames} />\n\t\t\t</p>\n\t\t</div>\n\t);\n};\n\nexport default Search;\n","import React from 'react';\n\nconst Persons = ({ persons, filterName, handleDeleteRender }) => {\n\tconst namesToShow = persons.filter((item) => item.name.toLowerCase().includes(filterName));\n\n\treturn (\n\t\t<div>\n\t\t\t{namesToShow.map((item, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<li className=\"note\" key={item.name}>\n\t\t\t\t\t\t{item.name} {item.number}{' '}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleDeleteRender(item.id);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nexport default Persons;\n","import axios from 'axios';\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAllPersons = () => {\n\treturn axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createPerson = async (newObject) => {\n\tawait axios.post(baseUrl, newObject).then((response) => response.data);\n};\n\nconst updatePerson = (id, newObject) => {\n\taxios.put(`${baseUrl}/${id}`, newObject).then((response) => response.data);\n};\n\nconst deletePerson = ({ id }) => {\n\taxios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst exported = {\n\tgetAllPersons,\n\tcreatePerson,\n\tupdatePerson,\n\tdeletePerson\n};\n\nexport default exported;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n\tif (message === null) {\n\t\treturn null;\n\t}\n\n\treturn <div className=\"error\">{message}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport PersonForm from './PersonForm';\nimport Search from './Search';\nimport Persons from './Persons';\nimport axios from 'axios';\n\nimport memberService from './services/members';\nimport Notification from './Notification';\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([]);\n\tconst [ newName, setNewName ] = useState('');\n\tconst [ newNumber, setNewNumber ] = useState('');\n\tconst [ filterName, setFilterName ] = useState('');\n\tconst [ updateRender, setUpdateRender ] = useState(false);\n\tconst [ errorMessage, setErrorMessage ] = useState('');\n\n\tuseEffect(\n\t\t() => {\n\t\t\taxios.get('http://localhost:3001/api/persons').then((response) => {\n\t\t\t\tsetPersons(response.data);\n\t\t\t});\n\t\t},\n\t\t[ updateRender ]\n\t);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tlet namesArray = persons.map((item) => {\n\t\t\treturn item.name;\n\t\t});\n\n\t\tif (namesArray.includes(newName)) {\n\t\t\talert(`${newName} is already added to the phonebook, replace the old number with a new one?`);\n\t\t\tconst findId = async () => {\n\t\t\t\tconst result = await axios\n\t\t\t\t\t.get(`http://localhost:3001/api/persons`)\n\t\t\t\t\t.then((response) => response.data.filter((item) => item.name === newName));\n\t\t\t\t// .catch((error) => {\n\t\t\t\t// \talert(`Information on '${newName}' was already deleted from server`);\n\t\t\t\t// });\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\tsetErrorMessage(`Information on '${newName}' was already deleted from server`);\n\t\t\t\t\talert(`Information on '${newName}' was already deleted from server`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 3000);\n\t\t\t\t} else {\n\t\t\t\t\tmemberService.updatePerson(result[0].id, { name: newName, number: newNumber });\n\t\t\t\t\t// .catch((error) => {\n\t\t\t\t\t// \t// this is the way to access the error message\n\t\t\t\t\t// \tconsole.log(error, 'ERRORUPDATEPERSON........');\n\t\t\t\t\t// });\n\t\t\t\t\tsetErrorMessage(`Added or Updated ${newName}`);\n\t\t\t\t\tsetUpdateRender(() => !updateRender);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t\t}, 3000);\n\t\t\t\t}\n\n\t\t\t\tsetUpdateRender(() => !updateRender);\n\t\t\t};\n\t\t\tfindId();\n\t\t} else {\n\t\t\tmemberService.createPerson({ name: newName, number: newNumber }).catch((error) => {\n\t\t\t\t// this is the way to access the error message\n\t\t\t\tconsole.log(error.response.data.error, 'ERROR........');\n\t\t\t\tsetErrorMessage(`${error.response.data.error}`);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetErrorMessage(null);\n\t\t\t\t}, 3000);\n\t\t\t});\n\t\t\tsetErrorMessage(`Added or Updated ${newName}`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMessage(null);\n\t\t\t}, 3000);\n\t\t\tsetPersons([ ...persons, { name: newName, number: newNumber } ]);\n\t\t}\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t};\n\n\tconst handleAddName = (e) => {\n\t\tsetNewName(e.target.value);\n\t};\n\n\tconst handleAddNumber = (e) => {\n\t\tsetNewNumber(e.target.value);\n\t};\n\n\tconst handleFilterNames = (e) => {\n\t\tsetFilterName(e.target.value.toLowerCase());\n\t};\n\n\tconst handleDeleteRender = async (id) => {\n\t\tawait axios.delete(`http://localhost:3001/api/persons/${id}`).then((response) => {});\n\t\tsetUpdateRender(() => !updateRender);\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<h1>Phonebook</h1>\n\t\t\t{errorMessage && <Notification message={errorMessage} />}\n\t\t\t<Search persons={persons} filterName={filterName} handleFilterNames={handleFilterNames} />\n\t\t\t<h1>Add A New Entry:</h1>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleAddName={handleAddName}\n\t\t\t\thandleAddNumber={handleAddNumber}\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t/>\n\t\t\t<h1>Numbers</h1>\n\t\t\t<Persons filterName={filterName} persons={persons} handleDeleteRender={handleDeleteRender} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}